var l=Object.defineProperty;var d=(n,t,e)=>t in n?l(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var a=(n,t,e)=>(d(n,typeof t!="symbol"?t+"":t,e),e);import{R as c,j as s,L as h,H as m,e as g}from"./index-c3912b78.js";const o="http://localhost:8000",p=`py-1 text-[30px] bg-gradient-to-b from-blue-700 to-teal-500
                      py-3 px-6 text-white rounded-lg opacity-[0.9]
                      w-full outline-y-slate-700 flex justify-between items-center shadow-md 
                  `,x=` h-fit py-11 rounded-md flex flex-col justify-center items-center  
                    `,r=` w-full h-11 py-2 px-3 pr-11 text-slate-800 bg-transparent focus:border-slate-800
                        outline-none border-b-2 border-slate-500 focus:border-double                
                    `,u={signInEmail:"",signInPassword:""};class y extends c.Component{constructor(e){super(e);a(this,"onEmailChange",e=>{this.setState({signInEmail:e.target.value})});a(this,"onPasswordChange",e=>{this.setState({signInPassword:e.target.value})});a(this,"handleErrorMessage",()=>{const e=document.querySelector("#error-message");e.style.visibility="visible"});a(this,"onSubmitSignIn",()=>{fetch(`${o}/signin`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.signInEmail,password:this.state.signInPassword})}).then(e=>e.json()).then(e=>{e.id?(console.log(e),this.props.loadUser(e),this.props.onRouteChange("home"),fetch(`${o}/entries`,{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})}).then(i=>i.json()).then(i=>{this.setState(Object.assign(e,{entries:i}))}).catch(console.log)):this.handleErrorMessage()})});this.state=u}render(){const{onRouteChange:e}=this.props;return s.jsxs("div",{className:"h-[100vh]",children:[s.jsxs("nav",{className:p,children:[s.jsx(h,{}),s.jsx(m,{additionalClasses:"bg-slate-50"})]}),s.jsxs("form",{className:x,method:"POST",onSubmit:this.onSubmitSignIn,children:[s.jsx("h1",{className:"text-[48px] text-blue-400 font-[Roboto] ",children:"Sign In"}),s.jsx("div",{className:"relative w-[70%] md:w-72 mb-4 ",children:s.jsx("input",{className:r,type:"email",placeholder:"Email",id:"email",onChange:this.onEmailChange})}),s.jsxs("div",{className:"relative w-[70%] md:w-72 mb-4 ",children:[s.jsx("input",{className:r,type:"password",placeholder:"Password",id:"register-password",onChange:this.onPasswordChange}),s.jsx("div",{className:`absolute bottom-1 right-0 \r
                                flex justify-center items-center py-1                                  \r
                        `,children:s.jsx("img",{src:g,alt:"C",style:{maxWidth:"100%",height:"auto"},width:34})})]}),s.jsx("p",{id:"error-message",style:{visibility:"hidden",color:"red"},className:" mb-8 ",children:this.state.signInEmail.length?this.state.signInPassword.length?"Incorrect Credentials!":"Password field can't be empty":"Email field can't be empty"}),s.jsx("div",{className:`md:text-3xl text-xl font-bold \r
                          rounded-full py-4  md:px-20 px-10\r
                          bg-gradient-to-tr \r
                          from-green-400 to-emerald-500 \r
                          hover:from-green-500 hover:to-emerald-700 \r
                          active:from-slate-400 active:to-slate-500\r
                          text-white cursor-pointer\r
                `,onClick:this.onSubmitSignIn,children:"Login"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400 text-[16px] ",children:"Don't hace an account?"})," "," ",s.jsx("span",{className:"text-blue-500 cursor-pointer ",onClick:()=>e("register"),children:"Sign up."})]})]})]})}}export{y as default};
